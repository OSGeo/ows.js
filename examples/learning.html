<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8"/>
    <title>Learning Examples</title>
    <style type="text/css">
        body {
            background-color: #ffffff;
            font-family: arial, verdana, sans-serif;
            text-align: left;
            float: left;
        }
        .flat {
            border: 0;
        }
        header {
            display: inline-block;
        }
        .header-img {
            float: left;
            margin: 0 15px 15px 0;
            border: 0;
        }
    </style>
    <script type="text/javascript" src="../node_modules/jsonix/jsonix.js"></script>
    <script type="text/javascript" src="../node_modules/ogc-schemas/lib/OWS_1_0_0.js"></script>
    <script type="text/javascript" src="../node_modules/ogc-schemas/lib/DC_1_1.js"></script>
    <script type="text/javascript" src="../node_modules/ogc-schemas/lib/DCT.js"></script>
    <script type="text/javascript" src="../node_modules/w3c-schemas/lib/XLink_1_0.js"></script>
    <script type="text/javascript" src="../node_modules/ogc-schemas/lib/CSW_2_0_2.js"></script>
    <script type="text/javascript" src="../node_modules/ogc-schemas/lib/Filter_1_1_0.js"></script>
    <script type="text/javascript" src="../node_modules/ogc-schemas/lib/GML_3_1_1.js"></script>
    <script type="text/javascript" src="../node_modules/ogc-schemas/lib/SMIL_2_0_Language.js"></script>
    <script type="text/javascript" src="../node_modules/ogc-schemas/lib/SMIL_2_0.js"></script>
    <!-- ISO Profile -->
    <script type="text/javascript" src="../node_modules/ogc-schemas/lib/GML_3_2_1.js"></script>
    <script type="text/javascript" src="../node_modules/ogc-schemas/lib/GML_3_2_0.js"></script>
    <script type="text/javascript" src="../node_modules/ogc-schemas/lib/ISO19139_GCO_20060504.js"></script>
    <script type="text/javascript" src="../node_modules/ogc-schemas/lib/ISO19139_GMD_20060504.js"></script>
    <script type="text/javascript" src="../node_modules/ogc-schemas/lib/ISO19139_GTS_20060504.js"></script>
    <script type="text/javascript" src="../node_modules/ogc-schemas/lib/ISO19139_GSS_20060504.js"></script>
    <script type="text/javascript" src="../node_modules/ogc-schemas/lib/ISO19139_GSR_20060504.js"></script>
    <script type="text/javascript" src="../node_modules/ogc-schemas/lib/ISO19139_GMX_20060504.js"></script>
    <script type="text/javascript" src="../node_modules/ogc-schemas/lib/ISO19139_SRV_20060504.js"></script>

    <script type="text/javascript" src="../node_modules/ogc-schemas/lib/ISO19139_GCO_20070417.js"></script>
    <script type="text/javascript" src="../node_modules/ogc-schemas/lib/ISO19139_GMD_20070417.js"></script>
    <script type="text/javascript" src="../node_modules/ogc-schemas/lib/ISO19139_GTS_20070417.js"></script>
    <script type="text/javascript" src="../node_modules/ogc-schemas/lib/ISO19139_GSS_20070417.js"></script>
    <script type="text/javascript" src="../node_modules/ogc-schemas/lib/ISO19139_GSR_20070417.js"></script>
    <script type="text/javascript" src="../node_modules/ogc-schemas/lib/ISO19139_GMX_20070417.js"></script>
    
    <!-- ISO Profile -->
    <script type="text/javascript" src="../src/ows.js"></script>
    <script type="text/javascript" src="../src/csw.js"></script>
    <script type="text/javascript" src="../src/filter.js"></script>

    <script type="text/javascript" src="https://rawgit.com/highsource/ogc-schemas/master/scripts/lib/ISO19139_2_GMI_1_0.js"></script>
</head>
<body>
<header>
    <h1>Learning Examples</h1>
</header>
<section>
    <script type="text/javascript">
        var cswConfig = [
            [
                OWS_1_0_0,
                DC_1_1,
                DCT,
                XLink_1_0,
                SMIL_2_0,
                SMIL_2_0_Language,
                GML_3_1_1,
                Filter_1_1_0,
                CSW_2_0_2,
                GML_3_2_0,
                GML_3_2_1,
                ISO19139_GCO_20070417,
                ISO19139_GMD_20070417,
                ISO19139_GMX_20070417,
                ISO19139_GSS_20070417,
                ISO19139_GTS_20070417,
                ISO19139_GSR_20070417,
                ISO19139_2_GMI_1_0
            ],
            {
                namespacePrefixes: {
                    "http://www.opengis.net/cat/csw/2.0.2": "csw",
                    "http://www.opengis.net/ogc": 'ogc',
                    "http://www.opengis.net/gml": "gml",
                    "http://purl.org/dc/elements/1.1/":"dc",
                    "http://purl.org/dc/terms/":"dct",
                    "http://www.isotc211.org/2005/gmd" : "gmd",
                    "http://www.isotc211.org/2005/gco" : "gco",
                    "http://www.isotc211.org/2005/gmi" : "gmi"
                },
                mappingStyle : 'simplified'
            }
        ];

        // Help Function

        function getXML(url){
            return Ows4js.Util.httpGet(url).responseXML;
        }

        // by URL via CSW
        var csw = new Ows4js.Csw('../noa/csw', cswConfig);

        // Raw XML to Javascript Object
        // Only BBOX
        var getRecordDoc1 = Ows4js.Csw.xmlToObject(getXML('../examples/xml/getrecord1.xml'));

        // Only Property Name
        var getRecordDoc2 =  Ows4js.Csw.xmlToObject(getXML('../examples/xml/getrecord2.xml'));

        // Property name And BBOX
        var getRecordDoc3 =  Ows4js.Csw.xmlToObject(getXML('../examples/xml/getrecord3.xml'));

        console.info('1° GetRecords');
        console.log(getRecordDoc1);
        console.info('2° GetRecords');
        console.log(getRecordDoc2);
        console.info('3° GetRecords');
        console.log(getRecordDoc3);

        console.log(' Filters ---------------------------------------------------------------------------------------');
        var ogcfilter1 = Ows4js.Csw.xmlToObject(getXML('../examples/xml/filter1.xml'));
        console.info('1° Filter');
        console.log(ogcfilter1);

        var ogcfilter2 =  Ows4js.Csw.xmlToObject(getXML('../examples/xml/filter2.xml'));
        console.info('2° Filter');
        console.log(ogcfilter2);

        var ogcfilter3 =  Ows4js.Csw.xmlToObject(getXML('../examples/xml/filter3.xml'));
        console.info('3° Filter');
        console.log(ogcfilter3);

        var ogcfilter4 = Ows4js.Csw.xmlToObject(getXML('../examples/xml/filter4.xml'));
        console.info('4° Filter');
        console.log(ogcfilter4);

        var ogcfilter5 = Ows4js.Csw.xmlToObject(getXML('../examples/xml/filter5.xml'));
        console.info('5° Filter');
        console.log(ogcfilter5);

        var ogcfilter6 = Ows4js.Csw.xmlToObject(getXML('../examples/xml/filter6.xml'));
        console.info('6° Filter');
        console.log(ogcfilter6);

        var ogcfilter7 = Ows4js.Csw.xmlToObject(getXML('../examples/xml/filter7.xml'));
        console.info('7° Filter');
        console.log(ogcfilter7);

        console.log('---------------------------------------------------------------------------------------');

        // Javascript Object to
        var xml =  Ows4js.Csw.marshalDocument(getRecordDoc1); // <--- Change It

        console.log(xml);

        var getRecordbyIdDoc1 =  Ows4js.Csw.xmlToObject(getXML('../examples/xml/getrecordbyid1.xml'));

        var getRecordbyIdDoc2 =  Ows4js.Csw.xmlToObject(getXML('../examples/xml/getrecordbyid1.xml'));

        console.info('1° GetRecordsById');
        console.log(getRecordbyIdDoc1);
        console.info('2° GetRecordsById');
        console.log(getRecordbyIdDoc2);

        var xml2 =  Ows4js.Csw.marshalDocument(getRecordbyIdDoc1);

        console.log(xml2);

        var getDomainDoc =  Ows4js.Csw.xmlToObject(getXML('../examples/xml/getdomain.xml'));

        console.log(getDomainDoc);

        var getCapabilities = Ows4js.Csw.xmlToObject(getXML('../examples/xml/getcapabilities.xml'));

        console.log(getCapabilities);

        var Capabilities = Ows4js.Csw.xmlToObject(getXML('../examples/xml/capabilities.xml'));

        console.log(Capabilities);//*/

        // Some XML examples!
        var csw_insert = Ows4js.Csw.xmlToObject(getXML('../examples/xml/insert.xml'));
        var csw_update = Ows4js.Csw.xmlToObject(getXML('../examples/xml/update.xml'));
        var csw_delete = Ows4js.Csw.xmlToObject(getXML('../examples/xml/delete.xml'));

        console.log(csw_insert);
        var document = Ows4js.Csw.objectToXML(csw_insert);

        console.log(document);
        console.log(csw_update);
        console.log(csw_delete);

        // Some CSW profile
        var record19139 = Ows4js.Csw.xmlToObject(getXML('../examples/xml/recordISO19139.xml'));
        console.log(record19139);

        // Working ISO 19139-2
        var record19139TWO = Ows4js.Csw.xmlToObject(getXML('../examples/xml/recordISO19139-2.xml'));
        console.log(record19139TWO);

    </script>
</section>
<footer>
    <a href="http://validator.w3.org/check?verbose=1&amp;uri=referer" title="Valid HTML 5!"><img class="flat" src="http://www.w3.org/html/logo/downloads/HTML5_Badge_32.png" alt="Valid HTML 5!" height="32" width="32"/></a>
    <a href="http://jigsaw.w3.org/css-validator/check/referer" title="Valid CSS!"><img class="flat" src="http://jigsaw.w3.org/css-validator/images/vcss-blue" alt="Valid CSS!" height="31" width="88"/></a>
</footer>
</body>
</html>
